CREATE TABLE "DESPESAS_DB"."ORCAMENTO" (

        "ID" BIGINT GENERATED BY DEFAULT AS IDENTITY,
        "TIPO_DESPESA_ID" BIGINT NOT NULL,
        "VALOR" NUMERIC(10,2) NOT NULL,
        "DATA_INICIAL" TIMESTAMP NOT NULL,
        "DATA_FINAL" TIMESTAMP NOT NULL,
        PRIMARY KEY("ID")
);

ALTER TABLE "DESPESAS_DB"."ORCAMENTO" ADD CONSTRAINT "ORCAMENTO_TIPO_DESPESA" FOREIGN KEY ("TIPO_DESPESA_ID") REFERENCES "DESPESAS_DB"."TIPO_MOVIMENTACAO"("ID")
 ON DELETE NO ACTION ON UPDATE NO ACTION;

CREATE TABLE "DESPESAS_DB"."FATURA" (
        "ID" BIGINT GENERATED BY DEFAULT AS IDENTITY,
        "CARTAO_ID" BIGINT NOT NULL,
        "DATA_VENCIMENTO" TIMESTAMP NOT NULL,
        "DATA_FECHAMENTO" TIMESTAMP NOT NULL,
        PRIMARY KEY("ID")
);

ALTER TABLE "DESPESAS_DB"."FATURA" ADD CONSTRAINT "FATURA_CARTAO" FOREIGN KEY ("CARTAO_ID") REFERENCES "DESPESAS_DB"."CARTAO"("ID")
 ON DELETE NO ACTION ON UPDATE NO ACTION;
 
 
ALTER TABLE "DESPESAS_DB"."DESPESA" ADD COLUMN "FATURA_ID" BIGINT;

ALTER TABLE "DESPESAS_DB"."DESPESA" ADD CONSTRAINT "DESPESA_FATURA" FOREIGN KEY ("FATURA_ID") REFERENCES "DESPESAS_DB"."FATURA"("ID")
 ON DELETE NO ACTION ON UPDATE NO ACTION;